<button type="button" rel="tooltip" class="btn btn-info btn-round" (click)="refreshData()">
  <i class="material-icons">person</i> Odśwież
</button>


<table class="table">
  <thead>
  <tr>
    <th class="text-center">#</th>
    <th *ngFor="let person of players">{{person}}</th>
    <th></th>
  </tr>
  </thead>
  <tbody>

  <tr *ngFor="let kolejka of displayData; let j = index">
    <td>{{j+1}}</td>
    <td *ngFor="let player of kolejka; let k = index">
      <input *ngIf="player && (lastRecordsIndex[k] - 1 == j)" type="text" class="form-control" placeholder="pkt"
             [(ngModel)]="player.amount"
             (change)="update(player.id, player.amount, name, player.id)">
      <span *ngIf="player && (lastRecordsIndex[k] - 1 != j);else deleteButton">{{player.amount}}</span>

      <ng-template #deleteButton>
        <button type="button" rel="tooltip" class="btn btn-danger" (click)="deleteQueue(lastRecordsIndex[k]-1)">
          <i class="material-icons">close</i>
        </button>
      </ng-template>

    </td>

  </tr>




  <!-- <tr *ngFor="let person of countRounds; let j = index">
    <td>{{j+1}}</td>
    <td *ngFor="let player of displayData">
      <input *ngIf="countRounds.length - 1 == j" type="text" class="form-control" placeholder="pkt" [(value)]="player.rounds[j].amount"
        (change)="update(player.rounds[j].id, player.rounds[j].amount, roomId, player.id)">
      <span *ngIf="countRounds.length - 1 != j">{{player.rounds[j].amount}}</span>
    </td>
    <td class="" *ngIf="countRounds.length - 1 == j">
      <button type="button" rel="tooltip" class="btn btn-danger" (click)="deleteQueue()">
        <i class="material-icons">close</i>
      </button>
    </td>
  </tr> -->
  <tr>
    <td></td>
    <td *ngFor="let play of newQueue">
      <input type="text" class="form-control" placeholder="Punkty" [(ngModel)]="play.amount">
      <button type="button" rel="tooltip" class="btn btn-success" (click)="addQueue()">
        <i class="material-icons">add</i>
      </button>

    </td>

    <td>

    </td>
  </tr>




  <tr>
    <td></td>
    <td *ngFor="let player of lastRecords"><span *ngIf="player">{{player.fullAmount}}</span></td>
    <td></td>
  </tr>
  </tbody>
</table>


<div class="main-content">
  <div class="container">
    <div class="col-lg-6 col-md-86 col-sm-8 ml-auto mr-auto">
      <div class="form ng-untouched ng-pristine ng-valid">
        <div class="card card-login">
          <div class="card-body ml-auto mr-auto">
            <p class="card-description text-center">Dodaj gracza do rozgrywki</p>
            <span class="bmd-form-group">
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text">
                    <i class="material-icons">email</i>
                  </span>
                </div>
                <mat-form-field>
                  <input matInput type="text" placeholder="Login" [(ngModel)]="login">
                </mat-form-field>
              </div>
            </span>

          </div>
          <div class="card-footer justify-content-center">
            <button class="btn btn-info" mat-raised-button (click)="joinMatch()">Dołącz gracza</button>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
